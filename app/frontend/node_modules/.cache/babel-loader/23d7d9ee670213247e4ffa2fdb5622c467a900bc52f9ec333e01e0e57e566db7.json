{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\upv\\\\TFG\\\\tfg\\\\app\\\\frontend\\\\src\\\\components\\\\JoinRequestCard.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JoinRequestCard = props => {\n  _s();\n  //EXTRAER LISTA DE LA BD\n\n  const [request, setRequest] = useState([]);\n  const [date, setDate] = useState({\n    day: '',\n    month: '',\n    year: '',\n    time: ''\n  });\n  const [user, setUser] = useState([]);\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/request?id=' + props.id).then(res => {\n      return res.json();\n    }).then(data => {\n      console.log(data);\n      setRequest(data);\n      let yyyy = data.created_at.substring(0, 4);\n      let mm = data.created_at.substring(5, 7);\n      let dd = data.created_at.substring(8, 10);\n      let t = data.created_at.substring(11, 16);\n      setDate({\n        day: dd,\n        month: mm,\n        year: yyyy,\n        time: t\n      });\n      fetch('http://127.0.0.1:8000/user?id=' + data.user).then(res => {\n        return res.json();\n      }).then(data => {\n        console.log(data);\n        setUser(data);\n      });\n    });\n  }, ['http://127.0.0.1:8000/request?id=' + props.id]);\n\n  // aceptar\n\n  const handleAccept = () => {\n    fetch('http://127.0.0.1:8000/accept-request?id=' + props.id).then(res => {\n      return res.json();\n    }).then(data => {\n      console.log(data);\n      if (data.modified > 0) {\n        alert('Se ha aceptado la solicitud del usuario \"' + user.name + '\"');\n        window.location.href = \"/join-requests?group_id=\" + request.group;\n      } else {\n        alert('No se ha podido aceptar la solicitud.');\n      }\n    });\n  };\n\n  // rechazar\n\n  const handleReject = () => {\n    fetch('http://127.0.0.1:8000/reject-request?id=' + props.id).then(res => {\n      return res.json();\n    }).then(data => {\n      console.log(data);\n      if (data.modified > 0) {\n        alert('Se ha eliminado la invitaci贸n.');\n        window.location.href = \"/invites?user_id=\" + invite.user;\n      } else {\n        alert('No se ha podido eliminar la invitaci贸n.');\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"scrollable-card my-card w-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body d-flex flex-row text-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-5\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            class: \"card-title\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"card-text\",\n            children: [date.day, \"/\", date.month, \"/\", date.year, \" \", date.time]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn w-50 bg-dark text-white\",\n            onClick: handleAccept,\n            children: \"Aceptar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn w-50 bg-white text-dark border border-1 border-dark\",\n            onClick: handleReject,\n            children: \"Rechazar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 29\n  }, this);\n};\n_s(JoinRequestCard, \"j224PSxiADdZYOmedOjR7cl4qc0=\");\n_c = JoinRequestCard;\nexport default JoinRequestCard;\nvar _c;\n$RefreshReg$(_c, \"JoinRequestCard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","JoinRequestCard","props","_s","request","setRequest","date","setDate","day","month","year","time","user","setUser","fetch","id","then","res","json","data","console","log","yyyy","created_at","substring","mm","dd","t","handleAccept","modified","alert","name","window","location","href","group","handleReject","invite","class","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/victo/Desktop/upv/TFG/tfg/app/frontend/src/components/JoinRequestCard.js"],"sourcesContent":["import React from \"react\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst JoinRequestCard = (props) => {\r\n\r\n    //EXTRAER LISTA DE LA BD\r\n\r\n    const [request, setRequest] = useState([])\r\n    const [date, setDate] = useState({\r\n        day: '',\r\n        month: '',\r\n        year: '',\r\n        time: ''\r\n    })\r\n    const [user, setUser] = useState([])\r\n\r\n    useEffect(() => {\r\n        fetch('http://127.0.0.1:8000/request?id=' + props.id)\r\n          .then((res) => {\r\n            return res.json();\r\n          })\r\n          .then((data) => {\r\n            console.log(data);\r\n            setRequest(data);\r\n\r\n            let yyyy = data.created_at.substring(0,4);\r\n            let mm = data.created_at.substring(5,7);\r\n            let dd = data.created_at.substring(8,10);\r\n            let t = data.created_at.substring(11,16);\r\n            setDate({\r\n                day: dd,\r\n                month: mm,\r\n                year: yyyy,\r\n                time: t\r\n            })\r\n\r\n            fetch('http://127.0.0.1:8000/user?id=' + data.user)\r\n            .then((res) => {\r\n                return res.json();\r\n            })\r\n            .then((data) => {\r\n                console.log(data);\r\n                setUser(data);\r\n            });\r\n          });\r\n    }, ['http://127.0.0.1:8000/request?id=' + props.id])\r\n\r\n\r\n    // aceptar\r\n\r\n    const handleAccept = () => {\r\n        fetch('http://127.0.0.1:8000/accept-request?id=' + props.id)\r\n          .then((res) => {\r\n            return res.json();\r\n          })\r\n          .then((data) => {\r\n            console.log(data);\r\n            if (data.modified > 0) {\r\n                alert('Se ha aceptado la solicitud del usuario \"' + user.name + '\"');\r\n                window.location.href = \"/join-requests?group_id=\" + request.group;\r\n            }\r\n            else {alert('No se ha podido aceptar la solicitud.');}\r\n          });\r\n    }\r\n\r\n\r\n    // rechazar\r\n\r\n    const handleReject = () => {\r\n        fetch('http://127.0.0.1:8000/reject-request?id=' + props.id)\r\n          .then((res) => {\r\n            return res.json();\r\n          })\r\n          .then((data) => {\r\n            console.log(data);\r\n            if (data.modified > 0) {\r\n                alert('Se ha eliminado la invitaci贸n.');\r\n                window.location.href = \"/invites?user_id=\" + invite.user;\r\n            }\r\n            else {alert('No se ha podido eliminar la invitaci贸n.');}\r\n          });\r\n    }\r\n\r\n    return(\r\n                            <div class=\"scrollable-card my-card w-100\">\r\n                                <div class=\"card\">\r\n                                        <div class=\"card-body d-flex flex-row text-start\">\r\n                                            <div class=\"col-5\"><h5 class=\"card-title\">{user.name}</h5></div>\r\n                                            <div class=\"col-3\"><p class=\"card-text\">{date.day}/{date.month}/{date.year} {date.time}</p></div>\r\n                                            <div class=\"col-2\"><button class=\"btn w-50 bg-dark text-white\" onClick={handleAccept}>Aceptar</button></div>\r\n                                            <div class=\"col-2\"><button class=\"btn w-50 bg-white text-dark border border-1 border-dark\" onClick={handleReject}>Rechazar</button></div>\r\n                                        </div>\r\n                                </div>\r\n                            </div>\r\n    );\r\n};\r\n\r\nexport default JoinRequestCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}